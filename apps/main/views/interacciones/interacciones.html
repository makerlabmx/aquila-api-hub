


<div ng-controller="InteractionController as inter" data-ng-init="inter.init()">


<div class="text-right">
	<button type="button" class="btn btn-outlined btn-primary" ng-click='inter.new()' >Agregar Interaccion</button>
</div>


<table class="table table-striped pd-top100">
	<thead>
		<th>Cuando dispositivo</th>
		<th>Tenga el evento</th>
		<th>Hacer dispositivo</th>
		<th>La accion</th>
		<th>Opciones</th>
	</thead>
	<tbody>
		<tr ng-repeat="entry in inter.entries"  >
			<td>{{entry.cuando_name}}</td>
			<td>{{entry.event_name}}</td>
			<td>{{entry.hacer_name}}</td>
			<td>{{entry.action_name}}</td>
			<td>
				<a class="btn btn-outlined btn-success" ng-disabled="!entry.event_name" href ng-click='inter.edit(entry)' >
					Editar
		        </a>
				<a class="btn btn-outlined btn-danger" href ng-click='inter.delete(entry)' >
					Eliminar
		        </a>    		        
			</td>
		</tr>
	</tbody>
</table>



<div class="modal fade" id="modal-interaccion" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span></button>
        <h4 class="modal-title">{{inter.title}}</h4>
      </div>
      <div class="modal-body">
      	<div class="row">
      		<div class="col-md-6">



      			<form role="form">
				  <div class="form-group">
				    <label for="exampleInputEmail1">Cuando</label>
				    <select class="form-control" ng-model="inter.interaccion.dev_cuando" ng-options="device.name for device in inter.devices"></select>
				  </div>
				  <div class="form-group">
				    <label for="exampleInputEmail1"></label>
				    <select class="form-control" ng-model="inter.interaccion.event_cuando" ng-options="action.name for action in inter.interaccion.dev_cuando.events"></select>
				  </div>

				  <div class="form-group">
				    <label for="exampleInputEmail1">Hacer</label>
				    <select class="form-control" ng-disabled="inter.edit_element" ng-model="inter.interaccion.dev_hacer" ng-options="device.name for device in inter.devices"></select>				    
				  </div>

				  <div class="form-group">
				    <label for="exampleInputEmail1"></label>
				    <select class="form-control" ng-model="inter.interaccion.action_hacer" ng-options="action.name for action in inter.interaccion.dev_hacer.actions"></select>
				  </div>

				 
				</form>

      		
      		</div>
      	</div>        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>        
	  	<button class="btn btn-default" ng-show="inter.edit_element" ng-click="inter.update()">
	  		Actualizar
	  	</button>
	    <button class="btn btn-default" ng-show="inter.save_element" ng-click="inter.save()">
	    	Guardar
	    </button>        
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


	
  
  <!--
  <pre>form = {{inter.interaccion | json}}</pre>  
	-->

</div>